{"version":3,"file":"index.js","mappings":"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","sources":["webpack:///./src/edit.js","webpack:///./src/save.js","webpack:///external window \"React\"","webpack:///external window [\"wp\",\"apiFetch\"]","webpack:///external window [\"wp\",\"blockEditor\"]","webpack:///external window [\"wp\",\"blocks\"]","webpack:///external window [\"wp\",\"components\"]","webpack:///external window [\"wp\",\"element\"]","webpack:///external window [\"wp\",\"i18n\"]","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/index.js"],"sourcesContent":["import { useState, useEffect } from '@wordpress/element';\r\nimport { Spinner, PanelBody, ToggleControl } from '@wordpress/components';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nconst Edit = ({ attributes, setAttributes }) => {\r\n    const blockProps = useBlockProps();\r\n    const [userData, setUserData] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const [enableAuthorImage, setEnableAuthorImage] = useState(attributes.enableAuthorImage || true);\r\n    const [enableAuthorBio, setEnableAuthorBio] = useState(attributes.enableAuthorBio || true);\r\n    const [enableAuthorSocialLink, setEnableAuthorSocialLink] = useState(attributes.enableAuthorSocialLink || true);\r\n\r\n    const onEnableAuthorImageChange = (value) => {\r\n        setAttributes({ enableAuthorImage: value });\r\n        setEnableAuthorImage(value);\r\n    };\r\n\r\n    const onEnableAuthorBioChange = (value) => {\r\n        setAttributes({ enableAuthorBio: value });\r\n        setEnableAuthorBio(value);\r\n    };\r\n\r\n    const onEnableAuthorSocialLinkChange = (value) => {\r\n        setAttributes({ enableAuthorSocialLink: value });\r\n        setEnableAuthorSocialLink(value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Fetch current user data\r\n        apiFetch({ path: '/wp/v2/users/me' })\r\n            .then(user => {\r\n                setUserData(user);\r\n                // Store user data in attributes\r\n                setAttributes({\r\n                    userData: user\r\n                });\r\n                setIsLoading(false);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching user data:', error);\r\n                setIsLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if (!userData) {\r\n        return <div {...blockProps}>{__('User data not found.', 'author-block')}</div>;\r\n    }\r\n\r\n    const { name, description, avatar_urls } = userData;\r\n    const social_link = myBlockData.social_link;\r\n    setAttributes({\r\n        link: social_link\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <InspectorControls>\r\n                <PanelBody title=\"Settings\" initialOpen={true}>\r\n                    <ToggleControl\r\n                        label=\"Show Author Avatar\"\r\n                        checked={enableAuthorImage}\r\n                        onChange={onEnableAuthorImageChange}\r\n                    />\r\n                    <ToggleControl\r\n                        label=\"Show Author Bio\"\r\n                        checked={enableAuthorBio}\r\n                        onChange={onEnableAuthorBioChange}\r\n                    />\r\n                    <ToggleControl\r\n                        label=\"Show Author Social Link\"\r\n                        checked={enableAuthorSocialLink}\r\n                        onChange={onEnableAuthorSocialLinkChange}\r\n                    />\r\n                </PanelBody>\r\n            </InspectorControls>\r\n            <div {...blockProps} className='author__information'>\r\n                { enableAuthorImage && (\r\n                    <div className='author__avatar'>\r\n                        <img src={avatar_urls?.['96']} alt={name} />\r\n                    </div>\r\n                )}\r\n                <div className='author__content'>\r\n                    <h5 className='author__name'>{name}</h5>\r\n                    { enableAuthorBio && ( \r\n                        <p className='author__bio'>{description}</p>\r\n                    )}\r\n                    { enableAuthorSocialLink && (\r\n                        <p className='author__link'>{__('Social Link: ', 'author-block') }{social_link}</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Edit;","import { __ } from '@wordpress/i18n';\r\nimport { useBlockProps } from '@wordpress/block-editor';\r\n\r\nconst Save = ({ attributes }) => {\r\n    const blockProps = useBlockProps.save();\r\n\tconst { userData, enableAuthorImage, enableAuthorBio, enableAuthorSocialLink, link } = attributes;\r\n\r\n    if (!userData) {\r\n        return <div>{__('User data not found.', 'author-block')}</div>;\r\n    }\r\n\r\n    const { name, description, avatar_urls } = userData;\r\n\r\n    return (\r\n        <div {...blockProps} className='author__information'>\r\n            { enableAuthorImage && (\r\n                <div className='author__avatar'>\r\n                    <img src={avatar_urls?.['96']} alt={name} />\r\n                </div>\r\n            )}\r\n            <div className='author__content'>\r\n                <h5 className='author__name'>{name}</h5>\r\n                { enableAuthorBio && ( \r\n                    <p className='author__bio'>{description}</p>\r\n                )}\r\n                { enableAuthorSocialLink && (\r\n                    <p className='author__link'>{__('Social Link: ', 'author-block') }{link}</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Save;","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\r\n\r\nimport Edit from './edit';\r\nimport Save from './save';\r\nimport metadata from './../block.json';\r\n\r\nregisterBlockType( \r\n\tmetadata,\r\n\t{\r\n\t\tedit: Edit,\r\n\t\tsave: Save,\r\n\t}\r\n)"],"names":["useState","useEffect","Spinner","PanelBody","ToggleControl","__","useBlockProps","InspectorControls","apiFetch","Edit","attributes","setAttributes","blockProps","userData","setUserData","isLoading","setIsLoading","enableAuthorImage","setEnableAuthorImage","enableAuthorBio","setEnableAuthorBio","enableAuthorSocialLink","setEnableAuthorSocialLink","onEnableAuthorImageChange","value","onEnableAuthorBioChange","onEnableAuthorSocialLinkChange","path","then","user","catch","error","console","createElement","name","description","avatar_urls","social_link","myBlockData","link","Fragment","title","initialOpen","label","checked","onChange","className","src","alt","Save","save","registerBlockType","metadata","edit"],"sourceRoot":""}